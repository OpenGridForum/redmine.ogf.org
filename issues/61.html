<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/61 at Thu, 27 Oct 2022 08:46:36 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>bug #61: incorrect return value of drmaa2_create_jsession() - DRMAAv2 Root Specification - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="AK0U3Lb6dpt4WWTJJ0cRxmhtMBdpfG/nfcCkNBP2hXA="/>
<link rel='shortcut icon' href='../favicon4460.ico?1425381960' />
<link href="../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

    <link href="https://redmine.ogf.org/issues/61.atom" rel="alternate" title="DRMAAv2 Root Specification - bug #61: incorrect return value of drmaa2_create_jsession()" type="application/atom+xml" />
    <link href="../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    <script src="../javascripts/context_menu4460.js?1425381960" type="text/javascript"></script>
    <link href="../stylesheets/context_menu4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    
</head>
<body class="theme-Ogf redmine controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../index.html" class="home">Home</a></li>
<li><a href="../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/drmaav2-root-spec" method="get">
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="../search/index/drmaav2-root-spec.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../projects/standards/issues.html?jump=issues" class="root">Standards</a> » <a href="../projects/applications-area/issues.html?jump=issues" class="ancestor">Applications Area</a> » <a href="../projects/drmaa-wg/issues.html?jump=issues" class="ancestor">DRMAA WG</a> » DRMAAv2 Root Specification</h1>

    
    <div id="main-menu">
        <ul><li><a href="../projects/drmaav2-root-spec.html" class="overview">Overview</a></li>
<li><a href="../projects/drmaav2-root-spec/issues.html" class="issues selected">Issues</a></li>
<li><a href="../projects/drmaav2-root-spec/files.html" class="files">Files</a></li>
<li><a href="../projects/drmaav2-root-spec/repository.html" class="repository">Repository</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        
  <h3>Issues</h3>
<a href="https://redmine.ogf.org/projects/drmaav2-root-spec/issues?set_filter=1">View all issues</a><br />

<a href="../projects/drmaav2-root-spec/issues/report.html">Summary</a><br />


  
  







<h3>Custom queries</h3><a href="../projects/drmaav2-root-spec/issues5e4f.html?query_id=1">Short Overview</a>



  

        
  
  


    </div>

    <div id="content">
        
        <div class="contextual">


<span class="issue-61-watcher"></span>




</div>


<h2>bug #61</h2>

<div class="issue status-16 priority-4 closed details">
        

<div class="subject">
<div><h3>incorrect return value of drmaa2_create_jsession()</h3></div>
</div>
        <p class="author">
        Added by <a href="../users/78.html">Daniel Gruber</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-13" title="02/13/2013 04:47 AM">over 9 years</a> ago.
        
        Updated <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2015-07-14" title="07/14/2015 06:17 PM">over 7 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">closed</td>
    <th class="start-date">Start date:</th><td class="start-date">02/13/2013</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Urgent</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assignee:</th><td class="assigned-to">-</td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="todo" style="width: 100%;"></td></tr></table><p class="pourcent">0%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>GFD-R-P.198</p>


	<p>"drmaa2_jsession drmaa2_create_jsession ( const char * session_name , const char * contact );"</p>


	<p>The drmaa2_jsession returned has zero functionality (because the session isn't open after the call)<br />and is error prone and costs each developer further code to get rid of it without creating a<br />memory leak.</p>


	<p>Normal usage:</p>


	<p>drmaa2_error error;<br />drmaa2_jsession js = drmaa2_create_jsession("mysession", NULL);</p>


	<p>if (js != NULL) {<br />   /* ok - created a new session -> free session in order to prevent<br />      a memory leak and to prevent further usage of this invalid job<br />      session */<br />   drmaa2_session_free(&#38;js);<br />} else {<br />   error = drmaa2_lasterror();<br />}</p>


	<p>Since a job session is opened with a string there is no<br />functionality other than freeing connected to the job session. <br />Rather a common error would be using this job session to call functions<br />on it.</p>


	<p>It should be a one liner:</p>


	<p>drmaa2_error error = drmaa2_create_jsession("mysession", NULL);</p>
  </div>









</div>




<div id="history">
<h3>History</h3>

  <div id="change-85" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="61.html#note-1">#1</a></div>
    
    <a name="note-1"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:22 AM">over 9 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Project</strong> changed from <i>DRMAAv2 C Binding</i> to <i>DRMAAv2 Root Specification</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-85-notes"><p>This is a general criticism on the API layout, which therefore belongs to the root specification.</p></div>
  </div>
  

  <div id="change-86" class="journal has-notes">
    <h4><div class="journal-link"><a href="61.html#note-2">#2</a></div>
    
    <a name="note-2"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:25 AM">over 9 years</a> ago</h4>

    
    <div class="wiki" id="journal-86-notes"><p>"The drmaa2_jsession returned has zero functionality (because the session isn't open after the call)".</p>


	<p>I don't share this view. Separating creation and opening as functionality makes a lot of sense, since the error model is different. The root spec says clearly the the "createJobSession" result is immediately usable, which therefore is also the case in the C binding.</p>


	<p>In other terms, the result of drmaa2_create_jsession() is an open and usable job session, if no error occurred.</p></div>
  </div>
  

  <div id="change-87" class="journal has-notes">
    <h4><div class="journal-link"><a href="61.html#note-3">#3</a></div>
    
    <a name="note-3"></a>
    Updated by <a href="../users/78.html">Daniel Gruber</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:30 AM">over 9 years</a> ago</h4>

    
    <div class="wiki" id="journal-87-notes"><p>You are right, this flaw originates from the root specification and could be solved additionally there.</p></div>
  </div>
  

  <div id="change-88" class="journal has-notes">
    <h4><div class="journal-link"><a href="61.html#note-4">#4</a></div>
    
    <a name="note-4"></a>
    Updated by <a href="../users/78.html">Daniel Gruber</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:40 AM">over 9 years</a> ago</h4>

    
    <div class="wiki" id="journal-88-notes"><p>Thanks Peter! You're right, I interpreted the "must be usable" in a way that the session is created in the DRM system itself and can be used immediately for opening the session. But when having a closer look - it seems really the case that the session can be used without opening it again. If an error would be returned only it also would make the NULL parameter semantic (which creates a session with a unique name) useless.</p>


	<p>I will close the issue.</p></div>
  </div>
  

  <div id="change-89" class="journal has-notes">
    <h4><div class="journal-link"><a href="61.html#note-5">#5</a></div>
    
    <a name="note-5"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:43 AM">over 9 years</a> ago</h4>

    
    <div class="wiki" id="journal-89-notes"><p>Maybe you can suggest some description text improvement to make the intended semantics more obvious.</p></div>
  </div>
  

  <div id="change-91" class="journal has-notes">
    <h4><div class="journal-link"><a href="61.html#note-6">#6</a></div>
    
    <a name="note-6"></a>
    Updated by <a href="../users/78.html">Daniel Gruber</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:48 AM">over 9 years</a> ago</h4>

    
    <div class="wiki" id="journal-91-notes"><p>7.1.16 createJobSession / createReservationSession</p>


	<p>The method creates <strong>and opens</strong> a new job / reservation session instance. On successful completion of this method, the necessary initialization for making the session usable MUST be completed...</p>


	<p>I would just add the "and opens" in the first sentence.</p></div>
  </div>
  

  <div id="change-93" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="61.html#note-7">#7</a></div>
    
    <a name="note-7"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2013-02-19" title="02/19/2013 02:55 AM">over 9 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>submitted</i> to <i>accepted</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-93-notes"><p>Good. We can close the discussion for the moment, and leave this tracker as reference for the later spec change.</p></div>
  </div>
  

  <div id="change-501" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="61.html#note-8">#8</a></div>
    
    <a name="note-8"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2014-09-09" title="09/09/2014 06:13 PM">about 8 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>accepted</i> to <i>final review</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-501-notes"><p>The OGF-42 meeting decided to use the text enhancement proposal by Daniel Gruber, as stated above.</p></div>
  </div>
  

  <div id="change-810" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="61.html#note-9">#9</a></div>
    
    <a name="note-9"></a>
    Updated by <a href="../users/9.html">Peter Tröger</a> <a href="https://redmine.ogf.org/projects/drmaav2-root-spec/activity?from=2015-07-14" title="07/14/2015 06:17 PM">over 7 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>final review</i> to <i>closed</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-810-notes"><p>Fixed in July 2015 errata.</p></div>
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-61-watcher"></span>




</div>


<div style="clear: both;"></div>


<p class="other-formats">(Other formats not available in this archive.</p>






<div id="context-menu" style="display: none;"></div>
<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/61 at Thu, 27 Oct 2022 08:46:36 GMT
</html>
