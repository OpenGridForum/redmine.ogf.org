<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/238 at Thu, 27 Oct 2022 01:16:28 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>document #238: Trimming of text numbers when pad charaacter is '0' - DFDL WG - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="AK0U3Lb6dpt4WWTJJ0cRxmhtMBdpfG/nfcCkNBP2hXA="/>
<link rel='shortcut icon' href='../favicon4460.ico?1425381960' />
<link href="../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

    <link href="https://redmine.ogf.org/issues/238.atom" rel="alternate" title="DFDL WG - document #238: Trimming of text numbers when pad charaacter is '0'" type="application/atom+xml" />
    <link href="../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    <script src="../javascripts/context_menu4460.js?1425381960" type="text/javascript"></script>
    <link href="../stylesheets/context_menu4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    
</head>
<body class="theme-Ogf redmine controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../index.html" class="home">Home</a></li>
<li><a href="../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/dfdl-wg" method="get">
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="../search/index/dfdl-wg.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../projects/standards/issues.html?jump=issues" class="root">Standards</a> » <a href="../projects/data-area/issues.html?jump=issues" class="ancestor">Data Area</a> » DFDL WG</h1>

    
    <div id="main-menu">
        <ul><li><a href="../projects/dfdl-wg.html" class="overview">Overview</a></li>
<li><a href="../tab/show/dfdl-wg.html" class="tab">Project Info</a></li>
<li><a href="../projects/dfdl-wg/roadmap.html" class="roadmap">Roadmap</a></li>
<li><a href="../projects/dfdl-wg/issues.html" class="issues selected">Issues</a></li>
<li><a href="../projects/dfdl-wg/issues/calendar.html" class="calendar">Calendar</a></li>
<li><a href="../projects/dfdl-wg/news.html" class="news">News</a></li>
<li><a href="../dmsf/dfdl-wg.html" class="dmsf">Documents</a></li>
<li><a href="../projects/dfdl-wg/wiki.html" class="wiki">Wiki</a></li>
<li><a href="../projects/dfdl-wg/files.html" class="files">Files</a></li>
<li><a href="../projects/dfdl-wg/repository.html" class="repository">Repository</a></li>
<li><a href="../projects/dfdl-wg/embedded/index.html" class="embedded">Mailing Lists</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        
  <h3>Issues</h3>
<a href="https://redmine.ogf.org/projects/dfdl-wg/issues?set_filter=1">View all issues</a><br />

<a href="../projects/dfdl-wg/issues/report.html">Summary</a><br />


  
  




  <a href="../projects/dfdl-wg/issues/calendar.html">Calendar</a><br />




<h3>Custom queries</h3><a href="../projects/dfdl-wg/issues1f97.html?query_id=3">open grouped by target version sorted by last updated</a>



  

        
  
  


    </div>

    <div id="content">
        
        <div class="contextual">


<span class="issue-238-watcher"></span>




</div>


<h2>document #238</h2>

<div class="issue status-16 priority-2 closed details">
        

<div class="subject">
<div><h3>Trimming of text numbers when pad charaacter is '0'</h3></div>
</div>
        <p class="author">
        Added by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2014-11-12" title="11/12/2014 03:59 AM">almost 8 years</a> ago.
        
        Updated <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2017-07-25" title="07/25/2017 11:12 AM">over 5 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">closed</td>
    <th class="start-date">Start date:</th><td class="start-date">11/12/2014</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Normal</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assignee:</th><td class="assigned-to"><a href="../users/62.html">Steve Hanson</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>Document Type:</th><td>Proposed Recommendation</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>DFDL spec has a clause which prevents the parser from trimming away a number that is all '0's when the pad character is also '0'. But the wording only covers when the entire content region is '0's, there are other cases such as signs being present.</p>
  </div>









</div>




<div id="history">
<h3>History</h3>

  <div id="change-639" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="238.html#note-1">#1</a></div>
    
    <a name="note-1"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2014-11-12" title="11/12/2014 04:01 AM">almost 8 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>submitted</i> to <i>accepted</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-639-notes"><p>Relevant paragraph in section 13.6 updated to read:</p>


	<p><em>"When parsing, if the pad character is '0' and dfdl:textTrimKind is 'padChar' then the SimpleContent region is trimmed of the '0' characters as defined by the trimming rules.  If this trimming results in the next character in the SimpleContent region being a character other than a digit, or in all of the SimpleContent region being trimmed, then the last '0' character is re-instated and not trimmed.  This rule also applies when the pad character is a DFDL character entity equivalent to '0'. This rule does not apply when the pad character is any other character nor when a pad byte is specified."</em></p></div>
  </div>
  

  <div id="change-644" class="journal has-notes">
    <h4><div class="journal-link"><a href="238.html#note-2">#2</a></div>
    
    <a name="note-2"></a>
    Updated by <a href="../users/152.html">Andy Edwards</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2014-11-14" title="11/14/2014 09:50 AM">almost 8 years</a> ago</h4>

    
    <div class="wiki" id="journal-644-notes"><p>I've spotted a potential problem with this.  Consider the situation where the pad character is '0' but the value being represented is something like 'infinity' or 'not a number'.  When the infinity representation is something like 'INF', then for an element with length of 5 characters (say) that data is going to be '00INF'.  We will parse this, trim the first two zeroes down to 'INF', then see that there is a non-digit character and put a zero back, leaving us with '0INF', which doesn't make sense.</p>


	<p>I believe that this exception/rule only exists to make sure that when trimming, a logical value of zero is parsed as zero.  Any other logical value can have all of it's zeroes trimmed and still make sense, and any other pad character would leave us with all zeroes, and result in a parsed value of zero anyway.</p>


	<p>1 - Does the spec need to be more specific about the characters that trigger us to put a zero back, so not just non-digit, but the representation of decimal points, exponentials, signs?  Or do we say that Inf and NaN are the only "special" numbers as they are conceptual numbers and not specific decimals, so they don't trigger us to put a zero back.</p>


	<p>2 - Alternatively, could we say that anything that logically represents zero will be parsed as zero (so ignore trimming etc, we just bypass straight to zero) and anything else is trimmed and parsed normally.  This might be easier to explain in words and it's orthogonal to how to program it (i.e. it isn't describing a specific algorithm of 'if-this-then-that')</p></div>
  </div>
  

  <div id="change-652" class="journal has-notes">
    <h4><div class="journal-link"><a href="238.html#note-3">#3</a></div>
    
    <a name="note-3"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2014-11-18" title="11/18/2014 12:40 PM">almost 8 years</a> ago</h4>

    
    <div class="wiki" id="journal-652-notes"><p>Revised words:</p>


	<p>"When parsing, if the pad character is '0' and dfdl:textTrimKind is 'padChar' then the SimpleContent region is trimmed of the '0' characters as defined by the trimming rules. If at least one '0' character is removed and the trimmed text causes a processing error when parsed, a single '0' character is re-instated and the text is parsed again. This is to handle the case when '0' characters are trimmed away leaving no digits. This rule also applies when the pad character is a DFDL character entity equivalent to '0'. This rule does not apply when the pad character is any other character nor when a pad byte is specified."</p></div>
  </div>
  

  <div id="change-685" class="journal has-notes">
    <h4><div class="journal-link"><a href="238.html#note-4">#4</a></div>
    
    <a name="note-4"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2015-01-12" title="01/12/2015 08:48 AM">almost 8 years</a> ago</h4>

    
    <div class="wiki" id="journal-685-notes"><p>Erratum 5.7 in DFDL experience document 4</p></div>
  </div>
  

  <div id="change-1133" class="journal has-details">
    <h4><div class="journal-link"><a href="238.html#note-5">#5</a></div>
    
    <a name="note-5"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2017-07-25" title="07/25/2017 11:12 AM">over 5 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>accepted</i> to <i>closed</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-238-watcher"></span>




</div>


<div style="clear: both;"></div>


<p class="other-formats">(Other formats not available in this archive.</p>






<div id="context-menu" style="display: none;"></div>
<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/238 at Thu, 27 Oct 2022 01:16:28 GMT
</html>
