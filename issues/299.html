<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/299 at Wed, 26 Oct 2022 22:59:29 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>document #299: Clarify choice branch behaviour when occursCountKind 'expression' and 'parsed'. - DFDL WG - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="AK0U3Lb6dpt4WWTJJ0cRxmhtMBdpfG/nfcCkNBP2hXA="/>
<link rel='shortcut icon' href='../favicon4460.ico?1425381960' />
<link href="../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

    <link href="https://redmine.ogf.org/issues/299.atom" rel="alternate" title="DFDL WG - document #299: Clarify choice branch behaviour when occursCountKind 'expression' and 'parsed'." type="application/atom+xml" />
    <link href="../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    <script src="../javascripts/context_menu4460.js?1425381960" type="text/javascript"></script>
    <link href="../stylesheets/context_menu4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    
</head>
<body class="theme-Ogf redmine controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../index.html" class="home">Home</a></li>
<li><a href="../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/dfdl-wg" method="get">
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="../search/index/dfdl-wg.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../projects/standards/issues.html?jump=issues" class="root">Standards</a> » <a href="../projects/data-area/issues.html?jump=issues" class="ancestor">Data Area</a> » DFDL WG</h1>

    
    <div id="main-menu">
        <ul><li><a href="../projects/dfdl-wg.html" class="overview">Overview</a></li>
<li><a href="../tab/show/dfdl-wg.html" class="tab">Project Info</a></li>
<li><a href="../projects/dfdl-wg/roadmap.html" class="roadmap">Roadmap</a></li>
<li><a href="../projects/dfdl-wg/issues.html" class="issues selected">Issues</a></li>
<li><a href="../projects/dfdl-wg/issues/calendar.html" class="calendar">Calendar</a></li>
<li><a href="../projects/dfdl-wg/news.html" class="news">News</a></li>
<li><a href="../dmsf/dfdl-wg.html" class="dmsf">Documents</a></li>
<li><a href="../projects/dfdl-wg/wiki.html" class="wiki">Wiki</a></li>
<li><a href="../projects/dfdl-wg/files.html" class="files">Files</a></li>
<li><a href="../projects/dfdl-wg/repository.html" class="repository">Repository</a></li>
<li><a href="../projects/dfdl-wg/embedded/index.html" class="embedded">Mailing Lists</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        
  <h3>Issues</h3>
<a href="https://redmine.ogf.org/projects/dfdl-wg/issues?set_filter=1">View all issues</a><br />

<a href="../projects/dfdl-wg/issues/report.html">Summary</a><br />


  
  




  <a href="../projects/dfdl-wg/issues/calendar.html">Calendar</a><br />




<h3>Custom queries</h3><a href="../projects/dfdl-wg/issues1f97.html?query_id=3">open grouped by target version sorted by last updated</a>



  

        
  
  


    </div>

    <div id="content">
        
        <div class="contextual">


<span class="issue-299-watcher"></span>




</div>


<h2>document #299</h2>

<div class="issue status-16 priority-2 closed details">
        

<div class="subject">
<div><h3>Clarify choice branch behaviour when occursCountKind 'expression' and 'parsed'.</h3></div>
</div>
        <p class="author">
        Added by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2015-09-22" title="09/22/2015 12:14 PM">about 7 years</a> ago.
        
        Updated <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2020-10-29" title="10/29/2020 01:30 PM">almost 2 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">closed</td>
    <th class="start-date">Start date:</th><td class="start-date">09/22/2015</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Normal</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assignee:</th><td class="assigned-to"><a href="../users/62.html">Steve Hanson</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version"><a href="../versions/2.html">DFDL v1.0</a></td>
    
</tr>
<tr>
	<th>Document Type:</th><td>Proposed Recommendation</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>It is not clear what the correct outcome should be in a choice where a branch is optional or an array, and dfdl:occursCountKind is 'expression' and the count resolves to zero or is 'parsed' and zero occurrences are found.</p>


	<p>a) resolve the choice to the zero length array <br />b) move to the next choice branch <br />c) throw an error</p>
  </div>









</div>




<div id="history">
<h3>History</h3>

  <div id="change-854" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="299.html#note-1">#1</a></div>
    
    <a name="note-1"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2015-09-22" title="09/22/2015 12:15 PM">about 7 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-854-notes"><p>The existing choice branch rule that says minOccurs must not be 0 should remain, for consistency with not allowing minOccurs 0 on the choice itself.</p>


	<p>Choice branch with dfdl:occursCountKind 'expression' should be allowed. If the expression resolves to 0 then there are no occurrences and the branch is missing, so the parser looks for the next branch. This preserves the rule that a branch must exist.</p>


	<p>Choice branch with dfdl:occursCountKind 'parsed' should be allowed. If the parser does not find any occurrences then the branch is missing, so the parser looks for the next branch.  This preserves the rule that a branch must exist.</p></div>
  </div>
  

  <div id="change-1138" class="journal has-details">
    <h4><div class="journal-link"><a href="299.html#note-2">#2</a></div>
    
    <a name="note-2"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2017-07-25" title="07/25/2017 11:14 AM">over 5 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>% Done</strong> changed from <i>100</i> to <i>50</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-1215" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="299.html#note-3">#3</a></div>
    
    <a name="note-3"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2017-11-21" title="11/21/2017 11:10 AM">almost 5 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Target version</strong> set to <i>DFDL v1.0</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-1215-notes"><p>Due to elapsed time since raised, need to verify the conclusions</p></div>
  </div>
  

  <div id="change-1271" class="journal has-notes">
    <h4><div class="journal-link"><a href="299.html#note-4">#4</a></div>
    
    <a name="note-4"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2019-06-27" title="06/27/2019 11:50 AM">over 3 years</a> ago</h4>

    
    <div class="wiki" id="journal-1271-notes"><p>Discussed on DFDL WG Call on 2019-06-27.<br />Verified the conclusions. Clarifications to be added to spec based on language in comments above.</p></div>
  </div>
  

  <div id="change-1309" class="journal has-notes has-details">
    <h4><div class="journal-link"><a href="299.html#note-5">#5</a></div>
    
    <a name="note-5"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2019-09-30" title="09/30/2019 11:33 AM">about 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>% Done</strong> changed from <i>50</i> to <i>100</i></li>
      
    </ul>
    
    <div class="wiki" id="journal-1309-notes"><p>Erratum 5.39 added to Errata document. Language to be reviewed there.</p></div>
  </div>
  

  <div id="change-1317" class="journal has-details">
    <h4><div class="journal-link"><a href="299.html#note-6">#6</a></div>
    
    <a name="note-6"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2019-10-11" title="10/11/2019 01:19 PM">about 3 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>submitted</i> to <i>accepted</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-1407" class="journal has-details">
    <h4><div class="journal-link"><a href="299.html#note-7">#7</a></div>
    
    <a name="note-7"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/dfdl-wg/activity?from=2020-10-29" title="10/29/2020 01:30 PM">almost 2 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>accepted</i> to <i>closed</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-299-watcher"></span>




</div>


<div style="clear: both;"></div>


<p class="other-formats">(Other formats not available in this archive.</p>






<div id="context-menu" style="display: none;"></div>
<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /issues/299 at Wed, 26 Oct 2022 22:59:29 GMT
</html>
