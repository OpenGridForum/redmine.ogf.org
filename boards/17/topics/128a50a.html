<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/17/topics/128?r=193 at Thu, 03 Nov 2022 15:31:03 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Please support (real) unordered lists - Public Comments Archive - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="r8Eug2mxB/WVzjgYLFlaVTYqdY6Jf1KWLwk+E/4zIM4="/>
<link rel='shortcut icon' href='../../../favicon4460.ico?1425381960' />
<link href="../../../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../../../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../../../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../../../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="../../../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-messages action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login/index.html" class="login">Logins disabled</a></li>
<li><a href="../../../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../../index.html" class="home">Home</a></li>
<li><a href="../../../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/editor-pubcomarchive" method="get">
        <input name="messages" type="hidden" value="1" />
        <label for='q'>
          <a href="../../../search/index/editor-pubcomarchive.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../../../projects/operations0807.html?jump=boards" class="root">Operations</a> » <a href="../../../projects/editor0807.html?jump=boards" class="ancestor">Editor</a> » <a href="../../../projects/editor-pubcom/boards.html?jump=boards" class="ancestor">Public Comments</a> » Public Comments Archive</h1>

    
    <div id="main-menu">
        <ul><li><a href="../../../projects/editor-pubcomarchive.html" class="overview">Overview</a></li>
<li><a href="../../../projects/editor-pubcomarchive/boards.html" class="boards selected">Forums</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="../../../projects/editor-pubcomarchive/boards.html">Forums</a> » <a href="../../../projects/editor-pubcomarchive/boards/17.html">#119 - DFDL v1.0 Experience 2</a> » </p>

<div class="contextual">
    <span class="message-128-watcher"></span>
    
    
    
</div>

<h2>Please support (real) unordered lists</h2>

<div class="message">
<p><span class="author">Added by <a href="../../../users/157.html">Roger Costello</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-08" title="10/08/2013 12:21 PM">about 9 years</a> ago</span></p>
<div class="wiki">
<p>The sequenceKind="unordered" property is a strange beast. It means:</p>


	<pre><code>The input data can be in any order, but I (the parser) am <br />    going to reorder the data into the sequence listed here (in<br />    the schema).</code></pre>


	<p>We need real unordered lists. That is, the parser must not muck with the data - the order of the data must be preserved.</p>


	<p>Please support one or both of these:</p>


	<p>1. Support the XML Schema 1.1 &lt;all&gt; element.</p>


	<p>2. Support a new property, to be used with sequenceKind="unordered". The property is used to specify whether the parser is allowed to reorder the input data. How about calling it: allowedToDorkWithTheOrder = true/false</p>
</div>

</div>
<br />


<h3 class="comments">Replies (9)</h3>

  <div class="message reply" id="message-143">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="128f1f4.html?r=143#message-143">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/154.html">Jonathan Cranford</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-15" title="10/15/2013 05:08 PM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>I'll expand a bit on Roger's request above.</p>


The changes that XSD 1.1 made to &lt;all&gt; that are most relevant to supporting an unordered list capability are the following, I believe:
	<ul>
	<li>"The value of maxOccurs may now be greater than 1 on particles in an all group. The elements which match a particular particle need not be adjacent in the input."  (from <a class="external" href="http://www.w3.org/TR/xmlschema11-1/#ch_models">http://www.w3.org/TR/xmlschema11-1/#ch_models</a>)</li>
		<li>minOccurs can be greater than 1.</li>
	</ul>


	<p>Here's the big question, as I see it: Is there anything that would prevent DFDL 1.0 from cherry-picking XSD 1.1 features as we're suggesting?  As I understand it, the design goals of DFDL include (1) having an infoset compatible with XSD processors and (2) having DFDL schema files that are compatible with XSD processors.  If DFDL 1.0 expands what is allowed in &lt;all&gt; the same as XSD 1.1 does, I don't think that would impact the infoset, but it would impact the schema file; the resulting schema file could only be processed by an XSD 1.1 processor.  Would that be an impediment to expanding what's allowed in &lt;all&gt; in DFDL 1.0?</p>


	<p>If so, &lt;all&gt; would carry the same restrictions as in XSD 1.0; namely, the particles within &lt;all&gt; would have to have maxOccurs equal to 1 and minOccurs equal to either 0 or 1.  I think that would limit the utility of using &lt;all&gt; to represent unordered lists.</p></div>
  
  </div>

  <div class="message reply" id="message-144">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1280eee.html?r=144#message-144">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-16" title="10/16/2013 03:52 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Let's look at the options:</p>


	<p>If DFDL mixes features from XSDL 1.0 and 1.1 then DFDL is no longer based on XSDL 1.0 and is some strange hybrid beast, neither based on one or the other. That is extremely undesirable. The underlying schema (ie, minus the DFDL annotations) is meaningless and can't be used by a validating XML parser, is not supported by XML tools, etc.</p>


	<p>An alternative is to move entirely to XSDL 1.1. That is not on the cards for DFDL 1.0, but is something that could be considered for a future DFDL 2.0, as XSDL 1.1 provides some other useful features, such as less restrictive UPA rules and its own equivalent of asserts which could be used for validation. The one downside I see is that tools support for XSDL 1.1 in the industry seems pretty sparse.</p>


	<p>One thing that is technically feasible for DFDL 1.0 is to allow the use of xs:all, but that will come with the restrictions on maxOccurs &#38; minOccurs.</p>


	<p>Another possibility is for implementations to provide 'position' information in the infoset, allowing a post-parse step to recreate the original order.</p></div>
  
  </div>

  <div class="message reply" id="message-145">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="128d7ac.html?r=145#message-145">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-16" title="10/16/2013 04:01 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Worth noting that the issue of order preservation applies equally to elements with floating 'yes'. Currently the spec says that these floaters will be presented in XSD sequence position whereas the desire would likely be to have them appear in data stream position.</p></div>
  
  </div>

  <div class="message reply" id="message-146">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="128692b.html?r=146#message-146">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-16" title="10/16/2013 04:19 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Meant to comment specifically on the proposal for a new property to allow the infoset to be presented in data stream order.</p>


	<p>The spec does not provide such a property because it means the infoset would not match the underlying XSD, and therefore would not validate using an XSDL 1.0 validator. That is something we have been strictly adhering to in DFDL 1.0 so that a DFDL schema with annotations removed gives exactly the same infoset, and validates the same, when presented with the equivalent XML.</p>


	<p>If such a property was added, perhaps it's use could be mutually exclusive with switching on validation?</p></div>
  
  </div>

  <div class="message reply" id="message-147">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1289433.html?r=147#message-147">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/107.html">Tim Kimber</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-16" title="10/16/2013 05:50 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>DFDL already allows info sets to be created that do not conform to the XSD. The only difference in this case is that non-conformance would be highly likely rather than merely a possibility. So I think I agree - let's provide the property, and point out that it is not compatible with schema validation.</p></div>
  
  </div>

  <div class="message reply" id="message-193">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="128a50a.html?r=193#message-193">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-11-12" title="11/12/2013 10:23 AM">almost 9 years</a> ago
  </h4>
  <div class="wiki"><p>Using sequence annotations DFDL v1.0 supports unordered representations for logically ordered structures like sequences.</p>


	<p>If the logical nature of the data is truly unordered in that the order is significant, then you must use a repeating element to capture that positioning explicitly. The index position within that repeating element array preserves the order value.</p>


	<p>If several different things can be found at each position, that is modeled using a choice.</p>


	<p>This is just the way it is done in DFDL v1.0. Use of xs:all constructs was considered at one time, but rejected as unnecessary given the array-of-element-containing-choice mechanism can model everything that an xs:all group could model.</p>


	<p>I have heard no argument that array-of-element-containing-choice is not adequate for describing data formats yet, only that people familiar with XSD seem to want to use xs:all groups.</p>


	<p>I think this issue is about having a decent tutorial telling people how to use DFDL to model many different things. Otherwise of course people try to take whatever experience with XML or XSD they have and leverage it on DFDL schema creation. This case of unordered lists is just a case where experience with XSD leads you to look for xs:all groups support, or other special keywords in DFDL. A tutorial would clear this up.</p></div>
  
  </div>

  <div class="message reply" id="message-213">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1287b45.html?r=213#message-213">RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-11-26" title="11/26/2013 09:10 AM">almost 9 years</a> ago
  </h4>
  <div class="wiki"><p>Replying to my own reply here,....</p>


	<p>The point earlier in the thread by Steve Hanson, pointing out that floating elements are almost certainly positional in nature, argues the current DFDL design point where all sequences are logically ordered even if physically unordered/floating, is not consistent. One can argue for unordered sequences, that logically ordered is a reasonable semantics, but for a floating element, that's very likely to be floating specifically for positional reasons.</p>


	<p>I think we have a few choices:</p>


	<ol>
	<li>add a [dataIndex] (or other name) member to the infoset, so as to preserve the physical-position information. That solves the problem in theory, but pragmatically if people want to use DFDL to convert to/from XML documents that are validatable, it doesn't fix the issue.</li>
		<li>change spec for unordered sequences (and sequences with floating elements), and say the infoset is constructed in physical data order, hence, validation will not work for this data.</li>
		<li>add a property: dfdl:sequencePreservesDataOrder="yes" which if "no" means current semantics where data are reordered into logical order, if "yes" means the order of children in the data is preserved, but this means that the data may not be valid if the data order isn't the same as the logical order.</li>
		<li>add an xs:all group construct allowing children to be logically and physically unordered.</li>
		<li>do nothing: anything that requires preservation of physical order would have to be modeled as an array-of-element-containing-choice. Then this problem would have to be addressed in a future revision (DFDL v2.0).</li>
	</ol>


	<p>Personally, I'm in favor of the "do nothing" option, but if this really has to be addressed then I think adding the xs:all group would be the next best thing to do. Adding a [dataIndex] member to the infoset is fine with me as well, but as noted above, this doesn't solve the issue, it just gives more information content allowing users to model data as sequences with unordered, and restore the physical data order information via a downstream transformation.</p></div>
  
  </div>

  <div class="message reply" id="message-231">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1287107.html?r=231#message-231">Action 245 - RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-12-02" title="12/02/2013 11:02 AM">almost 9 years</a> ago
  </h4>
  <div class="wiki"><p>To be further investigated as action 245.</p></div>
  
  </div>

  <div class="message reply" id="message-242">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="128fa4c.html?r=242#message-242">Resolved - RE: Please support (real) unordered lists</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2014-01-14" title="01/14/2014 11:34 AM">almost 9 years</a> ago
  </h4>
  <div class="wiki"><p>On DFDL WG Call 2014-01-14, we concluded this is too large a change to consider for DFDL v1.0.</p></div>
  
  </div>

<p class="pagination"> (1-9/9)</p>








        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/17/topics/128?r=193 at Thu, 03 Nov 2022 15:31:03 GMT
</html>
