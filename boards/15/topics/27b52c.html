<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/15/topics/27?r=52 at Thu, 03 Nov 2022 23:30:53 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Document the endOfParent case where RightFill gets used due to encoding - Public Comments Archive - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="r8Eug2mxB/WVzjgYLFlaVTYqdY6Jf1KWLwk+E/4zIM4="/>
<link rel='shortcut icon' href='../../../favicon4460.ico?1425381960' />
<link href="../../../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../../../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../../../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../../../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="../../../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-messages action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="../../../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../../index.html" class="home">Home</a></li>
<li><a href="../../../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/editor-pubcomarchive" method="get">
        <input name="messages" type="hidden" value="1" />
        <label for='q'>
          <a href="../../../search/index/editor-pubcomarchive.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../../../projects/operations0807.html?jump=boards" class="root">Operations</a> » <a href="../../../projects/editor0807.html?jump=boards" class="ancestor">Editor</a> » <a href="../../../projects/editor-pubcom/boards.html?jump=boards" class="ancestor">Public Comments</a> » Public Comments Archive</h1>

    
    <div id="main-menu">
        <ul><li><a href="../../../projects/editor-pubcomarchive.html" class="overview">Overview</a></li>
<li><a href="../../../projects/editor-pubcomarchive/boards.html" class="boards selected">Forums</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="../../../projects/editor-pubcomarchive/boards.html">Forums</a> » <a href="../../../projects/editor-pubcomarchive/boards/15.html">#117 - DFDL v1.0 Revision</a> » </p>

<div class="contextual">
    <span class="message-27-watcher"></span>
    
    
    
</div>

<h2>Document the endOfParent case where RightFill gets used due to encoding</h2>

<div class="message">
<p><span class="author">Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-09-18" title="09/18/2013 05:06 AM">about 9 years</a> ago</span></p>
<div class="wiki">
<p>When parent lengthUnits is 'bytes' and last element has lengthKind 'endOfParent' and has text rep and encoding is not SBCS, it is possible for the element not to quite fit the parent length. In this case RightFill grammar kicks in.</p>
</div>

</div>
<br />


<h3 class="comments">Replies (6)</h3>

  <div class="message reply" id="message-52">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="27b52c.html?r=52#message-52">RE: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-09-26" title="09/26/2013 06:41 PM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>This is from my notes on this:</p>


	<p>12.3.7.3 doesn't deal with the fragment of a character issue for complex types.</p>


	<p>When dfdl:lengthUnits='bytes', and a simple element of text representation is at the end of the complex type, and the dfdl:lengthKind of that element is 'endOfParent', then the simple element extends to the end of the enclosing complex element. Since this is measured in units of bytes, then when the encoding is not SBCS it is possible for a number of bytes to appear at the end that are insufficient to store a character codepoint. These are considered the RightFill region of the simple element, not the ElementUnused region of the complex element.</p>


	<p>Alas - I am unable to reconstruct our reasoning about the partial character thing from the DFDL Workgroup call on 2013-08-28. The only way I could do it is with 'endOfParent' on a string at the end of the complex type having lengthUnits='bytes'. See last paragraph of section. In this case the scenario is similar to the 12.3.7.1.1 fragment situation, but 'endOfData' is not a specified length according to our current definitions.</p>


	<p>Some earlier draft I had made 'endOfData' a specified length, but only in the case when the enclosing parent has specified length and with lengthUnits equal to the parent's length units. But we removed that some time back because it is complex to explain, so currently 'specified length' does not include 'endOfData' at all. Maybe we can introduce something like "inferred specified length" to describe this situation where 'endOfData' is the lengthKind, but the enclosing parent is providing the specification of length.</p></div>
  
  </div>

  <div class="message reply" id="message-110">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="27a2b0.html?r=110#message-110">RE: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-02" title="10/02/2013 07:04 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Change section 12.3.7.3 to read as follows:</p>


	<p>A complex element of specified length is defining a 'box' in which its child elements exist. An example of this would be a fixed length record element with a variable number of children elements. The dfdl:lengthUnits may be 'bytes' or 'characters' and it is a schema definition error otherwise.</p>


	<p>It is possible that the children may not entirely fill the full length of the complex element. An example is a complex element with a specified length of 100 characters, which contains a sequence of child elements that use up less than 100 characters of data, perhaps because an optional element is not present. In this case the remaining unused data is called the ElementUnused region in the data syntax grammar of section 9.2. Another example is a complex element with a specified length of 100 bytes, which contains a sequence of child elements the last of which has dfdl:lengthKind 'endOfParent', dfdl:representation 'text' and a multi-byte dfdl:encoding such that the element does not use up all the bytes of data. In this case the remaining unused bytes comprise the child element's RightFill region in the data syntax grammar of section 9.2. In both examples, the unused area is skipped when parsing, and is filled with the dfdl:fillByte on unparsing.</p>


	<p>Note that a poorly chosen value for dfdl:fillByte may fill the region with data that cannot be decoded in the character set encoding, resulting in a decode error when this data is subsequently parsed again. When dfdl:lengthUnits is 'characters' the value for dfdl:fillByte should be chosen so as to avoid this error.</p></div>
  
  </div>

  <div class="message reply" id="message-123">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="27f9ef.html?r=123#message-123">Resolved RE: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-08" title="10/08/2013 11:13 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>New language accepted on call 2013-10-08.</p></div>
  
  </div>

  <div class="message reply" id="message-259">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="2740cd.html?r=259#message-259">Resolved: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2014-03-06" title="03/06/2014 04:22 AM">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>New errata 4.2 in experience document 1.</p></div>
  
  </div>

  <div class="message reply" id="message-323">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="272f82.html?r=323#message-323">DONE - RE: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2014-04-10" title="04/10/2014 12:10 PM">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>draft draft-gwdrp-dfdl-v1.0.4-r05.docx</p></div>
  
  </div>

  <div class="message reply" id="message-377">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="27654f.html?r=377#message-377">DONE - RE: Document the endOfParent case where RightFill gets used due to encoding</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2014-09-12" title="09/12/2014 09:01 AM">about 8 years</a> ago
  </h4>
  <div class="wiki"><p><a class="external" href="../../../issues/174.html">http://redmine.ogf.org/issues/174</a></p></div>
  
  </div>

<p class="pagination"> (1-6/6)</p>








        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/15/topics/27?r=52 at Thu, 03 Nov 2022 23:30:53 GMT
</html>
