<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/15/topics/137?r=152 at Thu, 03 Nov 2022 23:30:53 GMT
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Expand use of recoverable exceptions - Public Comments Archive - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="r8Eug2mxB/WVzjgYLFlaVTYqdY6Jf1KWLwk+E/4zIM4="/>
<link rel='shortcut icon' href='../../../favicon4460.ico?1425381960' />
<link href="../../../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../../../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../../../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../../../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../../../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="../../../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-messages action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="../../../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../../index.html" class="home">Home</a></li>
<li><a href="../../../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/editor-pubcomarchive" method="get">
        <input name="messages" type="hidden" value="1" />
        <label for='q'>
          <a href="../../../search/index/editor-pubcomarchive.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../../../projects/operations0807.html?jump=boards" class="root">Operations</a> » <a href="../../../projects/editor0807.html?jump=boards" class="ancestor">Editor</a> » <a href="../../../projects/editor-pubcom/boards.html?jump=boards" class="ancestor">Public Comments</a> » Public Comments Archive</h1>

    
    <div id="main-menu">
        <ul><li><a href="../../../projects/editor-pubcomarchive.html" class="overview">Overview</a></li>
<li><a href="../../../projects/editor-pubcomarchive/boards.html" class="boards selected">Forums</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="../../../projects/editor-pubcomarchive/boards.html">Forums</a> » <a href="../../../projects/editor-pubcomarchive/boards/15.html">#117 - DFDL v1.0 Revision</a> » </p>

<div class="contextual">
    <span class="message-137-watcher"></span>
    
    
    
</div>

<h2>Expand use of recoverable exceptions</h2>

<div class="message">
<p><span class="author">Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-14" title="10/14/2013 01:40 PM">about 9 years</a> ago</span></p>
<div class="wiki">
<p>Recoverable exceptions were introduced by an erratum primarily to allow checks to be performed on well-formed data beyond those checks possible using XML schema validation. The point being that there is no need for the parse to terminate; the data is well-formed and the parser can continue. This is important for several industry standards like X12 and SWIFT where the standard says that all errors in the data are reported on, not just the first.</p>


	<p>Currently recoverable error are limited to use in asserts. However this is not sufficient for the purposes described above. For example, X12 says that all missing required fields are reported, but today such a failure will cause a processing error and stop the parse. Similarly if a text number value does not match the pattern, that is a processing error and will stop the parse. If neither case is the data broken, so why not allow these to be recoverable errors?</p>


	<p>We undertook an exercise as part of another errata which listed out all the different kinds of failure that cause processing errors. I would like to go through the list, decide which failures are potentially recoverable, and introduce a way to designate such failures as being recoverable if they occur.</p>
</div>

</div>
<br />


<h3 class="comments">Replies (7)</h3>

  <div class="message reply" id="message-150">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="137c318.html?r=150#message-150">RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-17" title="10/17/2013 11:46 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>Elements that are to be reported on when absent are simply not "required" fields in the sense of "required" in the DFDL specification. These fields are optional, in that the parse is supposed to succeed even if they are not present. They should be modeled as optional.</p>


	<p>To get the warning/error about when they are missing, that's what assert with recoverable failure type is for. The test condition would simply be true if number of occurrences of the element is zero.</p></div>
  
  </div>

  <div class="message reply" id="message-151">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="137396b.html?r=151#message-151">RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-17" title="10/17/2013 12:38 PM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>You have cited just one example of the problem. There are many other failures for which we give processing errors but for which a standard like X12 wants to continue and gather more errors. The data is not broken syntactically, just the value is bad. Eg, a text number or text calendar doesn't match the pattern. This is a processing error and the parser stops. It should be possible to continue after this kind of data conversion error. (Analogy here with encodingErrorPolicy 'replace').</p></div>
  
  </div>

  <div class="message reply" id="message-152">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="13719d5.html?r=152#message-152">RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-17" title="10/17/2013 01:00 PM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>I realise that with a data conversion error, the value can not be converted to a logical value compliant with the base type, which leaves a question as to what the infoset would contain.  Perhaps we need to adopt the approach used by PSVI and XDM, and provide two values in the infoset - typed and raw ?</p></div>
  
  </div>

  <div class="message reply" id="message-153">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1379444.html?r=153#message-153">RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-17" title="10/17/2013 02:40 PM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>I'd like to see actual examples, because I cannot understand the issue.</p>


	<p>Data conversion errors don't seem like an issue to me. The workaround is simple. If you want to keep/use the data, even after a data conversion error, you need to model the thing as a choice containing a date, not just as a date. This is simply the model being truthful about what the data format actually is, rather than the model expressing wishful-thinking about what we would like the format to be.</p>


	<p>One choice alternative parses and converts, the other alternative is the "raw parse", which just captures the non-convertible data. Either is  considered "well formed" as far as continuing the parse is concerned. You can hide the raw parse element in a hidden group if you really don't want it in the infoset. Asserts with recoverableError can report on the raw fields when they are created, if desired.</p>


	<p>Is there an example from X12 that can't be worked around by modeling a field in the data as a choice?</p>


	<p>The extra tiers of element that this may involve are a typical DFDL modeling issue, and there are other places in the spec where this is required that we haven't set out to fix in DFDL v1.0.</p>


	<p>Many applications need to parse data that is out-of-compliance with the specification (document) describing the format, because the nature of those applications must be to provide diagnostic behavior. A schema that can do this has to be quite different from a schema that accepts only correctly formatted and valid data.</p></div>
  
  </div>

  <div class="message reply" id="message-154">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1377980.html?r=154#message-154">RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-10-18" title="10/18/2013 03:10 AM">about 9 years</a> ago
  </h4>
  <div class="wiki"><p>What you suggest has certainly been the approach that we have discussed in the past. It's cumbersome and slows down the parser but I think it will work for X12. An alternative approach is to model everything as a string in the first place, and use a pattern facet to validate.  It just seemed a neater solution to allow recoverable errors to handle it with a more natural schema.</p></div>
  
  </div>

  <div class="message reply" id="message-222">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1370784.html?r=222#message-222">Resolved - RE: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/91.html">Michael Beckerle</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2013-11-26" title="11/26/2013 12:08 PM">almost 9 years</a> ago
  </h4>
  <div class="wiki"><p>No change to current behavior.</p></div>
  
  </div>

  <div class="message reply" id="message-295">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="1370ad7.html?r=295#message-295">Closed: Expand use of recoverable exceptions</a>
    -
    Added by <a href="../../../users/62.html">Steve Hanson</a> <a href="https://redmine.ogf.org/projects/editor-pubcomarchive/activity?from=2014-03-06" title="03/06/2014 12:32 PM">over 8 years</a> ago
  </h4>
  <div class="wiki"><p>No update to experience documents or specification needed.</p></div>
  
  </div>

<p class="pagination"> (1-7/7)</p>








        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

This is a static archive of the previous Open Grid Forum Redmine content management system saved from host redmine.ogf.org file /boards/15/topics/137?r=152 at Thu, 03 Nov 2022 23:30:53 GMT
</html>
